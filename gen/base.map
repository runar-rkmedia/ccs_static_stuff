{"version":3,"sources":["file:///main/static/gen/base.js","file:///webpack/bootstrap 617a0552ed0ebe347443","file:////Users/rk/Documents/Projects/Carcare/carcare_15/src/carcare_func/datepicker.ts","file:////Users/rk/Documents/Projects/Carcare/carcare_15/node_modules/flatpickr/dist/l10n/no.js","file:////Users/rk/Documents/Projects/Carcare/carcare_15/src/carcare_func/index.ts","file:////Users/rk/Documents/Projects/Carcare/carcare_15/src/entry_base.ts","file:////Users/rk/Documents/Projects/Carcare/carcare_15/src/carcare_func/booking.ts","file:////Users/rk/Documents/Projects/Carcare/carcare_15/src/carcare_func/slot_calendar_internal.ts","file:////Users/rk/Documents/Projects/Carcare/carcare_15/src/carcare_func/slot_calendar.ts","file:////Users/rk/Documents/Projects/Carcare/carcare_15/src/carcare_func/list_group_checked.ts","file:////Users/rk/Documents/Projects/Carcare/carcare_15/src/carcare_func/typeahead.ts","file:////Users/rk/Documents/Projects/Carcare/carcare_15/src/init.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__assign","this","assign","t","arguments","length","value","no_js_1","datepicker_default_options","locale","Norwegian","weekNumbers","dateFormat","altInput","altFormat","minDate","Date","time_24hr","datepicker","datepicker_element","options","flatpickr","default","date","range","element","updateElements","onChange","selectedDates","dateStr","instance","dateFrom","formatDate","$","val","mode","time","enableTime","defaultHour","allowInput","noCalendar","datetime","parseDate","global","factory","fp","window","undefined","l10ns","weekdays","shorthand","longhand","months","firstDayOfWeek","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","ordinal","no","booking_1","slot_calendar_internal_1","slot_calendar_1","list_group_checked_1","typeahead_1","carcare_func","booking","slot_calendar","slot_calendar_internal","list_group_checked","carcare_func_1","XMLHttpRequest","open","method","url","async","user","password","console","warn","apply","weekendBetween","date2","getTime","d2","getDay","addDays","default_1","ready","attr","pickup_el","parent","is","hide","on","slideUp","slideDown","change","urgent_el","urgent_time_el","faulty_el","deliveryTimeOptions","pickupTimeOptions","defaultDate","datepicker_1","amount","setDate","getDate","days","dat","valueOf","Vue","el","template","data","loading","startDate","dealers","dealerId","orders","created","loadData","methods","close","location","hash","empty","that","getJSON","loadCalendar","setHours","toISOString","split","qs","start_date","dayDate","dayIndex","previousWeek","nextWeek","watch","computed","ordersByDate","dates","forEach","order","time_delivery","push","hours","this_1","h","dateString","dayOrders","filter","getHours","moveOrder","moveTimes","moveExisting","moveTime","moveComment","moveStatus","move","is_movable","alert","status","id","times","requested_move","saveMove","ajax","JSON","stringify","comment","contentType","type","done","message","fail","error","callback","each","updateDisplay","isChecked","$checkbox","$widget","find","removeClass","addClass","settings","icon","style","color","off","css","prop","triggerHandler","prepend","searchMap","addressUpdater","_a","results","geometry","lat","lng","company_marker","google_map","myLatlng","google","maps","LatLng","setPosition","setCenter","updaters","address","item","street_name","post_code","post_area","updateCoordFromMap","company","forretningsadresse","postadresse","adresse","postnummer","poststed","organisasjonsnummer","navn_title_case","bind_customer_search","updater","params","typeahead_bind_options","source","query","cb","extend","names","key","matcher","displayText","carList","cars","join","minLength","_updater","typeahead","_typeahead_options","_","debounce","reverse_geo","bind_address_search","addresses_typeahead_source","place","toUpperCase","items","delay","fitToElement","highlighter","company_id","replace","trim","ignoreList","ignoreListUC","map","toTitleCase","toTransform","min_length","word","thisWord","ignoreIndex","indexOf","substr","toLowerCase","org_typeahead_source","encodeURIComponent","navn","bind_company_search","search_enable_func","e","hasClass","target","box","append","preventDefault","document","width","left","remove","print","setupWidgets","modalEl","html","modal","load","ajaxForm","delegation","success","href","replaceWith"],"mappings":"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","file":"main/static/gen/base.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar no_js_1 = __webpack_require__(5);\r\nexports.datepicker_default_options = {\r\n    locale: no_js_1.Norwegian,\r\n    weekNumbers: true,\r\n    dateFormat: \"Y-m-d\",\r\n    altInput: true,\r\n    altFormat: 'j. F Y',\r\n    minDate: new Date(1900, 1, 1),\r\n    time_24hr: true,\r\n};\r\nexports.datepicker = function (datepicker_element, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var dp_element = flatpickr(datepicker_element, __assign({}, exports.datepicker_default_options, options));\r\n    return dp_element;\r\n};\r\nexports.default = {\r\n    flatpickr: flatpickr,\r\n    date: exports.datepicker,\r\n    range: function (element, options, updateElements) {\r\n        if (options === void 0) { options = {}; }\r\n        var dateFormat = options['dateFormat'] || 'Y-m-d';\r\n        return exports.datepicker(element, __assign({ onChange: function (selectedDates, dateStr, instance) {\r\n                if (updateElements && selectedDates.length) {\r\n                    var dateFrom = flatpickr.formatDate(selectedDates[0], dateFormat);\r\n                    $(updateElements[0]).val(dateFrom);\r\n                    $(updateElements[1]).val(selectedDates.length === 2 ?\r\n                        flatpickr.formatDate(selectedDates[1], dateFormat) :\r\n                        dateFrom);\r\n                }\r\n            }, altFormat: 'd/m-y', mode: \"range\", dateFormat: dateFormat }, options));\r\n    },\r\n    time: function (element, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return exports.datepicker(element, __assign({ enableTime: true, altInput: false, dateFormat: 'H:i', defaultHour: 12, allowInput: true, noCalendar: true }, options));\r\n    },\r\n    datetime: function (element, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return exports.datepicker(element, __assign({ enableTime: true, altFormat: 'd. F Y, k\\\\l. H:i', dateFormat: 'Y-m-d H:i:S', defaultHour: 12, parseDate: function (date) { return flatpickr.parseDate(date, 'd.m.Y H:i'); } }, options));\r\n    },\r\n};\r\n\n\n/***/ }),\n/* 4 */,\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* flatpickr v4.3.2, @license MIT */\n(function (global, factory) {\n\t true ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.no = {})));\n}(this, (function (exports) { 'use strict';\n\nvar fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\r\n    ? window.flatpickr\r\n    : {\r\n        l10ns: {},\r\n    };\r\nvar Norwegian = {\r\n    weekdays: {\r\n        shorthand: [\"Søn\", \"Man\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"],\r\n        longhand: [\r\n            \"Søndag\",\r\n            \"Mandag\",\r\n            \"Tirsdag\",\r\n            \"Onsdag\",\r\n            \"Torsdag\",\r\n            \"Fredag\",\r\n            \"Lørdag\",\r\n        ],\r\n    },\r\n    months: {\r\n        shorthand: [\r\n            \"Jan\",\r\n            \"Feb\",\r\n            \"Mar\",\r\n            \"Apr\",\r\n            \"Mai\",\r\n            \"Jun\",\r\n            \"Jul\",\r\n            \"Aug\",\r\n            \"Sep\",\r\n            \"Okt\",\r\n            \"Nov\",\r\n            \"Des\",\r\n        ],\r\n        longhand: [\r\n            \"Januar\",\r\n            \"Februar\",\r\n            \"Mars\",\r\n            \"April\",\r\n            \"Mai\",\r\n            \"Juni\",\r\n            \"Juli\",\r\n            \"August\",\r\n            \"September\",\r\n            \"Oktober\",\r\n            \"November\",\r\n            \"Desember\",\r\n        ],\r\n    },\r\n    firstDayOfWeek: 1,\r\n    rangeSeparator: \" til \",\r\n    weekAbbreviation: \"Uke\",\r\n    scrollTitle: \"Scroll for å endre\",\r\n    toggleTitle: \"Klikk for å veksle\",\r\n    ordinal: function () {\r\n        return \".\";\r\n    },\r\n};\r\nfp.l10ns.no = Norwegian;\r\nvar no = fp.l10ns;\n\nexports.Norwegian = Norwegian;\nexports.default = no;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n/***/ }),\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar booking_1 = __webpack_require__(27);\r\nvar slot_calendar_internal_1 = __webpack_require__(28);\r\nvar slot_calendar_1 = __webpack_require__(29);\r\nvar list_group_checked_1 = __webpack_require__(30);\r\nvar typeahead_1 = __webpack_require__(31);\r\nvar carcare_func = __assign({ booking: booking_1.default,\r\n    slot_calendar: slot_calendar_1.default,\r\n    slot_calendar_internal: slot_calendar_internal_1.default,\r\n    list_group_checked: list_group_checked_1.default }, typeahead_1.default);\r\nexports.default = carcare_func;\r\n\n\n/***/ }),\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar carcare_func_1 = __webpack_require__(18);\r\nwindow.carcare_func = carcare_func_1.default;\r\n__webpack_require__(32);\r\nXMLHttpRequest.prototype.open = (function (open) {\r\n    return function (method, url, async, user, password) {\r\n        if (!async) {\r\n            console.warn(\"xhr call: \" + url + \" isAsync: \" + async);\r\n        }\r\n        open.apply(this, arguments);\r\n    };\r\n})(XMLHttpRequest.prototype.open);\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar datepicker_1 = __webpack_require__(3);\r\nvar addDays = function (date, amount) {\r\n    date.setDate(date.getDate() + amount);\r\n    return date;\r\n};\r\nfunction weekendBetween(date, date2) {\r\n    var d = new Date(date.getTime());\r\n    var d2 = new Date(date2.getTime());\r\n    while (d <= d2) {\r\n        if (d.getDay() === 0 || d.getDay() === 6)\r\n            return true;\r\n        d = d.addDays(1);\r\n    }\r\n    return false;\r\n}\r\nwindow.weekendBetween = weekendBetween;\r\nfunction default_1() {\r\n    $('#order_booking_form').ready(function () {\r\n        $('#id_time_pickup').attr('placeholder', 'Nå / Ved bestilling');\r\n        // Show hide pickup time:\r\n        var pickup_el = $('#id_time_pickup').parent().parent();\r\n        // Hide if form already submitted with errors:\r\n        if ($('#id_has_self_transport').is(':checked')) {\r\n            pickup_el.hide();\r\n        }\r\n        $('#id_has_self_transport').on('change', function () {\r\n            var is_checked = $(this).is(':checked');\r\n            if (is_checked) {\r\n                pickup_el.slideUp();\r\n            }\r\n            else {\r\n                pickup_el.slideDown();\r\n            }\r\n        });\r\n        // Remove delivery time when customer transports the car:\r\n        $('#id_has_self_transport').change(function () {\r\n            $('#id_time_pickup').val('');\r\n        });\r\n        // Show / hide reason for urgent order:\r\n        var urgent_el = $('#id_why_urgent').parent().parent();\r\n        var urgent_time_el = $('#id_time_delivery').parent().parent();\r\n        // Hide if form already submitted with errors:\r\n        if (!$('#id_is_urgent').is(':checked')) {\r\n            urgent_el.hide();\r\n            urgent_time_el.hide();\r\n        }\r\n        $('#id_is_urgent').on('change', function () {\r\n            var is_checked = $(this).is(':checked');\r\n            if (is_checked) {\r\n                urgent_el.slideDown();\r\n                urgent_time_el.slideDown();\r\n            }\r\n            else {\r\n                urgent_el.slideUp();\r\n                urgent_time_el.slideUp();\r\n            }\r\n        });\r\n        // Show / hide reason for faulty order:\r\n        var faulty_el = $('#id_why_faulty').parent().parent();\r\n        // Hide if form already submitted with errors:\r\n        if (!$('#id_is_faulty').is(':checked')) {\r\n            faulty_el.hide();\r\n        }\r\n        $('#id_is_faulty').on('change', function () {\r\n            var is_checked = $(this).is(':checked');\r\n            if (is_checked) {\r\n                faulty_el.slideDown();\r\n            }\r\n            else {\r\n                faulty_el.slideUp();\r\n            }\r\n        });\r\n        var deliveryTimeOptions = {};\r\n        var pickupTimeOptions = {};\r\n        var pickupTime = $('#id_time_delivery').val();\r\n        if (!pickupTime) {\r\n            pickupTimeOptions.minDate = new Date();\r\n            pickupTimeOptions.defaultDate = addDays(new Date(), 7);\r\n        }\r\n        var deliveryTime = $('#id_time_delivery').val();\r\n        if (!deliveryTime) {\r\n            deliveryTimeOptions.minDate = new Date();\r\n            deliveryTimeOptions.defaultDate = addDays(new Date(), 7);\r\n        }\r\n        datepicker_1.default.datetime('#id_time_pickup', pickupTimeOptions);\r\n        datepicker_1.default.datetime('#id_time_delivery', deliveryTimeOptions);\r\n    });\r\n}\r\nexports.default = default_1;\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function () {\r\n    Date.prototype.addDays = function (days) {\r\n        var dat = new Date(this.valueOf());\r\n        dat.setDate(dat.getDate() + days);\r\n        return dat;\r\n    };\r\n    new Vue({\r\n        el: '#slot-calendar-internal',\r\n        template: '#slot-calendar-internal-template',\r\n        data: {\r\n            loading: false,\r\n            startDate: new Date(),\r\n            // TODO: Load and select dealers.\r\n            dealers: [],\r\n            dealerId: null,\r\n            orders: [],\r\n        },\r\n        created: function () {\r\n            this.loadData();\r\n        },\r\n        methods: {\r\n            close: function () {\r\n                location.hash = '';\r\n                $('#orderData').empty();\r\n                $('#orderData').hide();\r\n            },\r\n            loadData: function () {\r\n                this.loading = true;\r\n                var that = this;\r\n                $.getJSON('/panel/dealers/json/', function (data) {\r\n                    that.dealers = data;\r\n                    that.loading = false;\r\n                });\r\n                this.loadCalendar();\r\n            },\r\n            loadCalendar: function () {\r\n                this.loading = true;\r\n                var date = (new Date(this.startDate.setHours(12))).toISOString().split('T')[0];\r\n                var that = this;\r\n                var qs = '?date=' + date;\r\n                if (this.dealerId) {\r\n                    qs = qs + '&dealer=' + this.dealerId;\r\n                }\r\n                $.getJSON('/panel/orders/overview/slot-calendar-data/' + qs, function (data) {\r\n                    that.startDate = new Date(data.start_date);\r\n                    that.orders = data.orders;\r\n                    that.loading = false;\r\n                });\r\n            },\r\n            dayDate: function (dayIndex) {\r\n                return this.startDate.addDays(dayIndex).getDate() + '.';\r\n            },\r\n            previousWeek: function () {\r\n                this.startDate = this.startDate.addDays(-6);\r\n                this.loadData();\r\n            },\r\n            nextWeek: function () {\r\n                this.startDate = this.startDate.addDays(8);\r\n                this.loadData();\r\n            },\r\n        },\r\n        watch: {\r\n            dealerId: function () {\r\n                this.loadCalendar();\r\n            }\r\n        },\r\n        computed: {\r\n            ordersByDate: function () {\r\n                var dates = {};\r\n                this.orders.forEach(function (order) {\r\n                    var date = order.time_delivery.split(' ')[0];\r\n                    if (!dates[date])\r\n                        dates[date] = [];\r\n                    order.time_delivery = new Date(order.time_delivery);\r\n                    dates[date].push(order);\r\n                });\r\n                return dates;\r\n            },\r\n            hours: function () {\r\n                var hours = [];\r\n                var _loop_1 = function (h) {\r\n                    var days = [];\r\n                    for (var d = 1; d <= 7; d++) {\r\n                        var date = this_1.startDate.addDays(d);\r\n                        var dateString = date.toISOString().split('T')[0];\r\n                        var dayOrders = this_1.ordersByDate[dateString];\r\n                        if (!dayOrders)\r\n                            days.push([]);\r\n                        else {\r\n                            days.push(dayOrders.filter(function (order) { return order.time_delivery.getHours() === h; }));\r\n                        }\r\n                    }\r\n                    hours.push(days);\r\n                };\r\n                var this_1 = this;\r\n                for (var h = 8; h <= 16; h++) {\r\n                    _loop_1(h);\r\n                }\r\n                return hours;\r\n            }\r\n        }\r\n    });\r\n});\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function () {\r\n    Date.prototype.addDays = function (days) {\r\n        var dat = new Date(this.valueOf());\r\n        dat.setDate(dat.getDate() + days);\r\n        return dat;\r\n    };\r\n    new Vue({\r\n        el: '#slot-calendar',\r\n        template: '#slot-calendar-template',\r\n        data: {\r\n            loading: false,\r\n            startDate: new Date(),\r\n            orders: [],\r\n            moveOrder: null,\r\n            moveTimes: [],\r\n            moveExisting: null,\r\n            moveTime: null,\r\n            moveComment: null,\r\n            moveStatus: null,\r\n        },\r\n        created: function () {\r\n            this.loadData();\r\n        },\r\n        methods: {\r\n            loadData: function () {\r\n                this.loading = true;\r\n                var date = this.startDate.toISOString().split('T')[0];\r\n                var that = this;\r\n                $.getJSON('/ext/slot-calendar/?date=' + date, function (data) {\r\n                    that.startDate = new Date(data.start_date);\r\n                    that.orders = data.orders;\r\n                    that.loading = false;\r\n                });\r\n            },\r\n            dayDate: function (dayIndex) {\r\n                return this.startDate.addDays(dayIndex).getDate() + '.';\r\n            },\r\n            previousWeek: function () {\r\n                this.startDate = this.startDate.addDays(-6);\r\n                this.loadData();\r\n            },\r\n            nextWeek: function () {\r\n                this.startDate = this.startDate.addDays(8);\r\n                this.loadData();\r\n            },\r\n            move: function (order) {\r\n                if (!order.is_movable) {\r\n                    alert('Kan ikke be om flytting av ordre bestilt av andre.');\r\n                    return;\r\n                }\r\n                if (order.status === 'Levert') {\r\n                    alert('Kan ikke be om flytting av leverte ordre.');\r\n                    return;\r\n                }\r\n                this.loading = true;\r\n                this.moveStatus = null;\r\n                this.moveTimes = [];\r\n                this.moveExisting = null;\r\n                this.moveTime = null;\r\n                this.moveComment = null;\r\n                this.moveOrder = order;\r\n                var that = this;\r\n                $.getJSON('/ext/move-slots/' + order.id + '/', function (data) {\r\n                    that.moveTimes = data.times;\r\n                    that.moveExisting = data.requested_move;\r\n                    that.loading = false;\r\n                }, function () {\r\n                    that.loading = false;\r\n                });\r\n            },\r\n            saveMove: function () {\r\n                if (!this.moveOrder)\r\n                    return;\r\n                if (!this.moveTime)\r\n                    return;\r\n                this.loading = true;\r\n                var that = this;\r\n                $.ajax('/ext/move-slot/' + this.moveOrder.id + '/', {\r\n                    data: JSON.stringify({\r\n                        time: this.moveTime,\r\n                        comment: this.moveComment\r\n                    }),\r\n                    contentType: 'application/json',\r\n                    type: 'POST'\r\n                }).done(function (data) {\r\n                    that.moveStatus = data.message;\r\n                    that.moveOrder = null;\r\n                    that.loading = false;\r\n                }).fail(function (error) {\r\n                    that.moveStatus = error;\r\n                    that.loading = false;\r\n                });\r\n            }\r\n        },\r\n        computed: {\r\n            ordersByDate: function () {\r\n                var dates = {};\r\n                this.orders.forEach(function (order) {\r\n                    var date = order.time_delivery.split(' ')[0];\r\n                    if (!dates[date])\r\n                        dates[date] = [];\r\n                    order.time_delivery = new Date(order.time_delivery);\r\n                    dates[date].push(order);\r\n                });\r\n                return dates;\r\n            },\r\n            hours: function () {\r\n                var hours = [];\r\n                var _loop_1 = function (h) {\r\n                    var days = [];\r\n                    for (var d = 1; d <= 7; d++) {\r\n                        var date = this_1.startDate.addDays(d);\r\n                        var dateString = date.toISOString().split('T')[0];\r\n                        var dayOrders = this_1.ordersByDate[dateString];\r\n                        if (!dayOrders)\r\n                            days.push([]);\r\n                        else {\r\n                            days.push(dayOrders.filter(function (order) { return order.time_delivery.getHours() === h; }));\r\n                        }\r\n                    }\r\n                    hours.push(days);\r\n                };\r\n                var this_1 = this;\r\n                for (var h = 8; h <= 16; h++) {\r\n                    _loop_1(h);\r\n                }\r\n                return hours;\r\n            }\r\n        }\r\n    });\r\n});\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (callback) {\r\n    $('.list-group.checked-list-box .list-group-item').each(function () {\r\n        // Settings\r\n        var $widget = $(this), $checkbox = $widget.find('input'), color = ($widget.data('color') ? $widget.data('color') : \"primary\"), style = ($widget.data('style') === \"button\" ? \"btn-\" : \"list-group-item-\"), settings = {\r\n            on: {\r\n                icon: 'glyphicon glyphicon-check'\r\n            },\r\n            off: {\r\n                icon: 'glyphicon glyphicon-unchecked'\r\n            }\r\n        };\r\n        $widget.css('cursor', 'pointer');\r\n        // $widget.append($checkbox);\r\n        // Event Handlers\r\n        $widget.on('click', function () {\r\n            $checkbox.prop('checked', !$checkbox.is(':checked'));\r\n            $checkbox.triggerHandler('change');\r\n            updateDisplay();\r\n        });\r\n        $checkbox.on('change', function () {\r\n            updateDisplay();\r\n            callback && callback();\r\n        });\r\n        // Actions\r\n        function updateDisplay() {\r\n            var isChecked = $checkbox.is(':checked');\r\n            // Set the button's state\r\n            $widget.data('state', (isChecked) ? \"on\" : \"off\");\r\n            // Set the button's icon\r\n            $widget.find('.state-icon')\r\n                .removeClass()\r\n                .addClass('state-icon ' + settings[$widget.data('state')].icon);\r\n            // Update the button's color\r\n            if (isChecked) {\r\n                $widget.addClass(style + color + ' active');\r\n            }\r\n            else {\r\n                $widget.removeClass(style + color + ' active');\r\n            }\r\n        }\r\n        // Initialization\r\n        function init() {\r\n            if ($widget.data('checked') === true) {\r\n                $checkbox.prop('checked', !$checkbox.is(':checked'));\r\n            }\r\n            updateDisplay();\r\n            // Inject the icon if applicable\r\n            if ($widget.find('.state-icon').length === 0) {\r\n                $widget.prepend('<span class=\"state-icon ' + settings[$widget.data('state')].icon + '\"></span>');\r\n            }\r\n        }\r\n        init();\r\n    });\r\n});\r\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar searchMap = {};\r\nvar addressUpdater = function (data) {\r\n    if (data.status === \"OK\") {\r\n        var _a = data.results[0].geometry.location, lat = _a.lat, lng = _a.lng;\r\n        $('#id_map_lat').val(lat);\r\n        $('#id_map_lon').val(lng);\r\n        if (company_marker && google_map) {\r\n            var myLatlng = new google.maps.LatLng(lat, lng);\r\n            company_marker.setPosition(myLatlng);\r\n            google_map.setCenter(myLatlng);\r\n        }\r\n    }\r\n};\r\nvar updaters = {\r\n    address: function (item) {\r\n        if (item) {\r\n            var street_name = item.street_name, post_code = item.post_code, post_area = item.post_area;\r\n            $('#id_address').val(street_name);\r\n            $('#id_zip_code').val(post_code);\r\n            $('#id_city').val(post_area);\r\n            if ($('.length#id_map_lat').length) {\r\n                updateCoordFromMap();\r\n            }\r\n            return street_name;\r\n        }\r\n    },\r\n    company: function (item) {\r\n        if (item) {\r\n            var _a = item.forretningsadresse || item.postadresse, adresse = _a.adresse, postnummer = _a.postnummer, poststed = _a.poststed;\r\n            $('#id_address').val(adresse);\r\n            $('#id_zip_code').val(postnummer);\r\n            $('#id_city').val(poststed);\r\n            $('#id_org_number').val(item.organisasjonsnummer);\r\n            if ($('#id_map_lat').length) {\r\n                updateCoordFromMap();\r\n            }\r\n        }\r\n        return item.navn_title_case;\r\n    }\r\n};\r\nvar bind_customer_search = function (element, updater, params) {\r\n    if (params === void 0) { params = {}; }\r\n    var typeahead_bind_options = {\r\n        source: function (query, cb) {\r\n            $.getJSON('/panel/json/customer/', $.extend(params, {\r\n                query: query\r\n            }), function (data) {\r\n                var names = [];\r\n                for (var i = 0; i < data.length; i++) {\r\n                    var item = data[i];\r\n                    var key = 'cst' + item.id;\r\n                    names.push(key);\r\n                    searchMap[key] = item;\r\n                }\r\n                cb(names);\r\n            });\r\n        },\r\n        matcher: function (query) {\r\n            return !!this.query;\r\n        },\r\n        displayText: function (key) {\r\n            var item = searchMap[key];\r\n            if (!item) {\r\n                return;\r\n            }\r\n            var carList = item.cars;\r\n            if (carList) {\r\n                var cars = carList.join(', ');\r\n                return '<span>' + item.name + '<br><small>' + cars + '</small></span>';\r\n            }\r\n            else {\r\n                return '<span>' + item.name + '</span>';\r\n            }\r\n        },\r\n        minLength: 1,\r\n        updater: _updater(updater)\r\n    };\r\n    element.typeahead($.extend(_typeahead_options, typeahead_bind_options));\r\n};\r\nvar updateCoordFromMap = _.debounce(function () {\r\n    reverse_geo($('#id_address').val(), $('#id_zip_code').val(), addressUpdater);\r\n}, 500);\r\nvar bind_address_search = function (element, updater, params) {\r\n    if (updater === void 0) { updater = updaters.address; }\r\n    if (params === void 0) { params = {}; }\r\n    if ($('#id_map_lat').length) {\r\n        updateCoordFromMap();\r\n        element.on('change paste keyup', updateCoordFromMap);\r\n    }\r\n    var typeahead_bind_options = {\r\n        source: function (query, cb) {\r\n            addresses_typeahead_source(1, query, cb);\r\n        },\r\n        minLength: 1,\r\n        updater: _updater(updater),\r\n        displayText: function (key) {\r\n            var item = searchMap[key];\r\n            if (item) {\r\n                var l = [item.post_code, item.post_area];\r\n                if (item.place && item.place.toUpperCase() !== item.post_area) {\r\n                    l.push(item.place);\r\n                }\r\n                return '<span>' + item.street_name + '<br><small>' + l.join(', ') + '</small></span>';\r\n            }\r\n            return key;\r\n        },\r\n    };\r\n    element.typeahead($.extend(_typeahead_options, typeahead_bind_options));\r\n};\r\nvar _typeahead_options = {\r\n    minLength: 2,\r\n    items: 25,\r\n    delay: 300,\r\n    fitToElement: false,\r\n    highlighter: function (item) { return item; }\r\n};\r\nvar addresses_typeahead_source = function (company_id, query, cb) {\r\n    query = query.replace(/\\s\\d+\\w?$/, \"\").trim();\r\n    $.getJSON('/api/address/', {\r\n        street_name: query\r\n    }).done(function (data) {\r\n        var names = [];\r\n        if (!data) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < data.data.length; i++) {\r\n            var item = data.data[i];\r\n            var key = 'adr' + item.id;\r\n            item.post_area = item.post_area.toUpperCase();\r\n            names.push(key);\r\n            searchMap[key] = item;\r\n        }\r\n        cb(names);\r\n    });\r\n};\r\nvar _updater = function (updater) { return function (key) { return updater(searchMap[key], key); }; };\r\nvar ignoreList = [\r\n    'Båt', 'og', 'Bil'\r\n];\r\nvar ignoreListUC = ignoreList.map(function (i) { return i.toUpperCase(); });\r\nvar toTitleCase = function (toTransform, min_length) {\r\n    if (!min_length) {\r\n        min_length = 0;\r\n    }\r\n    var wordList = toTransform.split(' ').map(function (word) {\r\n        var thisWord = word.toUpperCase();\r\n        var ignoreIndex = ignoreListUC.indexOf(thisWord);\r\n        if (ignoreIndex !== -1) {\r\n            return ignoreList[ignoreIndex];\r\n        }\r\n        if (thisWord.length > min_length) {\r\n            return thisWord[0] + thisWord.substr(1).toLowerCase();\r\n        }\r\n        return word;\r\n    });\r\n    return wordList.join(' ');\r\n};\r\nvar reverse_geo = function (street_name, post_code, callback) {\r\n    $.getJSON('https://maps.googleapis.com/maps/api/geocode/json', {\r\n        address: [street_name, post_code, 'Norway'].join(', '),\r\n        key: 'AIzaSyAHO78I5BkyTl_JkE5G3OhtrYI3zxBhCbM'\r\n    }, callback);\r\n};\r\nvar org_typeahead_source = function (query, cb) {\r\n    $.getJSON(\"https://data.brreg.no/enhetsregisteret/enhet.json?$filter=startswith(navn,'\" + encodeURIComponent(query) + \"')&size=10\", function (data) {\r\n        var names = [];\r\n        if (!data.data) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < data.data.length; i++) {\r\n            var item = data.data[i];\r\n            item.navn_title_case = toTitleCase(item.navn, 3);\r\n            var adresse = item.forretningsadresse || item.postadresse;\r\n            var key = 'org' + item.organisasjonsnummer;\r\n            names.push(key);\r\n            searchMap[key] = item;\r\n        }\r\n        cb(names);\r\n    });\r\n};\r\nvar bind_company_search = function (element, updater, search_enable_func) {\r\n    if (updater === void 0) { updater = updaters.company; }\r\n    var typeahead_bind_options = {\r\n        source: function (query, cb) {\r\n            if (!search_enable_func || search_enable_func()) {\r\n                org_typeahead_source(query, cb);\r\n            }\r\n        },\r\n        updater: _updater(updater),\r\n        displayText: function (key) {\r\n            var item = searchMap[key];\r\n            if (item) {\r\n                var adresse = item.forretningsadresse || item.postadresse;\r\n                return '<span>' + item.navn_title_case + '<br><small>' + [adresse.adresse, adresse.poststed].join(', ') + '</small></span>';\r\n            }\r\n            return key;\r\n        },\r\n    };\r\n    element.attr('autocomplete', 'off');\r\n    element.typeahead($.extend(_typeahead_options, typeahead_bind_options));\r\n};\r\nexports.default = {\r\n    searchMap: searchMap,\r\n    toTitleCase: toTitleCase,\r\n    org_typeahead_source: org_typeahead_source,\r\n    addresses_typeahead_source: addresses_typeahead_source,\r\n    _updater: _updater,\r\n    bind_customer_search: bind_customer_search,\r\n    bind_address_search: bind_address_search,\r\n    bind_company_search: bind_company_search,\r\n    _typeahead_options: _typeahead_options,\r\n};\r\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar carcare_func_1 = __webpack_require__(18);\r\nvar datepicker_1 = __webpack_require__(3);\r\n$(function () {\r\n    $('body').on('click', 'a.confirm', function (e) {\r\n        if ($(this).hasClass('disabled'))\r\n            return false;\r\n        var message = $(e.target).data('message');\r\n        var box = '<div class=\"confirm-box\"><p>' + message + '</p><a href=\"#\" class=\"btn btn-sm btn-default box-cancel\">Avbryt</a><a href=\"#\" class=\"btn btn-sm btn-danger box-ok\">OK</a></div>';\r\n        $('body').append(box);\r\n        e.preventDefault();\r\n        if ($(document).width() > 2200) {\r\n            $('.confirm-box').css({ left: '25%' });\r\n        }\r\n        $('.box-cancel').on('click', function () {\r\n            $(this).parent().remove();\r\n        });\r\n        var that = this;\r\n        $('.box-ok').on('click', function () {\r\n            $(this).parent().remove();\r\n            window.location.assign($(that).attr('href'));\r\n        });\r\n        return false;\r\n    });\r\n    $('body').on('click', '.btn-print', function (e) {\r\n        window.print();\r\n    });\r\n    // Quick search:\r\n    carcare_func_1.default.bind_customer_search($('.quick_search'), function (item) {\r\n        if (item.url)\r\n            window.location.assign(item.url);\r\n    }, {\r\n        cars: true\r\n    });\r\n    // Set up widgets:\r\n    var setupWidgets = function () {\r\n        datepicker_1.default.date('input.datepicker-widget');\r\n        datepicker_1.default.time('input.datepicker-widget-time');\r\n        datepicker_1.default.range('input.datepicker-widget-range', {\r\n            defaultDate: [$('#date-from').val(), $('#date-to').val()],\r\n        }, ['#date-from', '#date-to']);\r\n    };\r\n    setupWidgets();\r\n    // Enable modals:\r\n    $('body').on('click', '.modal-link', function () {\r\n        if ($(this).hasClass('disabled')) {\r\n            return false;\r\n        }\r\n        var modalEl = $('.modal');\r\n        var url = $(this).data('url');\r\n        modalEl.html('Laster...');\r\n        modalEl.modal('show');\r\n        modalEl.load(url, function () {\r\n            setupWidgets();\r\n            modalEl.find('.form-async').ajaxForm({\r\n                delegation: true,\r\n                target: '.modal',\r\n                success: function () {\r\n                    $.get(location.href, function (data) {\r\n                        var isSuccess = $(modalEl.find('.form-async .alert.alert-success')[0]).length;\r\n                        if (isSuccess) {\r\n                            modalEl.modal('hide');\r\n                        }\r\n                        $('#main').replaceWith($(data).filter('#main'));\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    });\r\n});\r\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// main/static/gen/base.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 617a0552ed0ebe347443","import { FlatpickrFn } from \"flatpickr/dist/types/instance\";\nimport { Options } from 'flatpickr/dist/types/options'\nexport { Options } from 'flatpickr/dist/types/options'\nimport { Norwegian } from \"flatpickr/dist/l10n/no.js\"\n\ndeclare const flatpickr: FlatpickrFn\n\nexport const datepicker_default_options: Options = {\n  locale: Norwegian,\n  weekNumbers: true,\n  dateFormat: \"Y-m-d\",\n  altInput: true,\n  altFormat: 'j. F Y',\n  minDate: new Date(1900, 1, 1),\n  time_24hr: true,\n}\n\nexport const datepicker = (datepicker_element, options: Options = {}) => {\n  const dp_element = flatpickr(datepicker_element, {\n    ...datepicker_default_options,\n    ...options\n  })\n  return dp_element\n}\n\nexport default {\n  flatpickr,\n  date: datepicker,\n  range: (element, options: Options = {}, updateElements) => {\n    const dateFormat = options['dateFormat'] || 'Y-m-d'\n    return datepicker(element, {\n      onChange: (selectedDates, dateStr, instance) => {\n        if (updateElements && selectedDates.length) {\n          const dateFrom = flatpickr.formatDate(selectedDates[0], dateFormat)\n          $(updateElements[0]).val(dateFrom)\n          $(updateElements[1]).val(\n            selectedDates.length === 2 ?\n              flatpickr.formatDate(selectedDates[1], dateFormat) :\n              dateFrom\n          )\n\n        }\n      },\n      altFormat: 'd/m-y',\n      mode: \"range\",\n      dateFormat,\n      ...options,\n    })\r\n  },\n  time: (element, options: Options = {}) => datepicker(element, {\n    enableTime: true,\n    altInput: false,\n    dateFormat: 'H:i',\n    defaultHour: 12,\n    allowInput: true,\n    noCalendar: true,\n    // parseDate: (date) => flatpickr.parseDate(date, 'd.m.Y H:i'),\n    ...options\n  }),\n  datetime: (element, options: Options = {}) => datepicker(element, {\n    enableTime: true,\n    altFormat: 'd. F Y, k\\\\l. H:i',\n    dateFormat: 'Y-m-d H:i:S',\n    defaultHour: 12,\n    parseDate: (date) => flatpickr.parseDate(date, 'd.m.Y H:i'),\n    ...options\n  }),\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./carcare_func/datepicker.ts","/* flatpickr v4.3.2, @license MIT */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.no = {})));\n}(this, (function (exports) { 'use strict';\n\nvar fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\r\n    ? window.flatpickr\r\n    : {\r\n        l10ns: {},\r\n    };\r\nvar Norwegian = {\r\n    weekdays: {\r\n        shorthand: [\"Søn\", \"Man\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"],\r\n        longhand: [\r\n            \"Søndag\",\r\n            \"Mandag\",\r\n            \"Tirsdag\",\r\n            \"Onsdag\",\r\n            \"Torsdag\",\r\n            \"Fredag\",\r\n            \"Lørdag\",\r\n        ],\r\n    },\r\n    months: {\r\n        shorthand: [\r\n            \"Jan\",\r\n            \"Feb\",\r\n            \"Mar\",\r\n            \"Apr\",\r\n            \"Mai\",\r\n            \"Jun\",\r\n            \"Jul\",\r\n            \"Aug\",\r\n            \"Sep\",\r\n            \"Okt\",\r\n            \"Nov\",\r\n            \"Des\",\r\n        ],\r\n        longhand: [\r\n            \"Januar\",\r\n            \"Februar\",\r\n            \"Mars\",\r\n            \"April\",\r\n            \"Mai\",\r\n            \"Juni\",\r\n            \"Juli\",\r\n            \"August\",\r\n            \"September\",\r\n            \"Oktober\",\r\n            \"November\",\r\n            \"Desember\",\r\n        ],\r\n    },\r\n    firstDayOfWeek: 1,\r\n    rangeSeparator: \" til \",\r\n    weekAbbreviation: \"Uke\",\r\n    scrollTitle: \"Scroll for å endre\",\r\n    toggleTitle: \"Klikk for å veksle\",\r\n    ordinal: function () {\r\n        return \".\";\r\n    },\r\n};\r\nfp.l10ns.no = Norwegian;\r\nvar no = fp.l10ns;\n\nexports.Norwegian = Norwegian;\nexports.default = no;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/flatpickr/dist/l10n/no.js\n// module id = 5\n// module chunks = 0 2","import booking from './booking'\nimport slot_calendar_internal from './slot_calendar_internal'\nimport slot_calendar from './slot_calendar'\nimport list_group_checked from './list_group_checked'\nimport typeahead from './typeahead'\n\nconst carcare_func = {\n  booking,\n  slot_calendar,\n  slot_calendar_internal,\n  list_group_checked,\n  ...typeahead\n};\n\nexport default carcare_func\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./carcare_func/index.ts","import carcare_func from './carcare_func';\n(<any>window).carcare_func = carcare_func\n\nimport './init'\nXMLHttpRequest.prototype.open = (function(open) {\n  return function(method, url, async, user, password) {\n    if (!async) {\n      console.warn(\"xhr call: \" + url + \" isAsync: \" + async);\n    }\n    open.apply(this, arguments);\n  };\n})(XMLHttpRequest.prototype.open);\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./entry_base.ts","import * as format from 'date-fns/format'\nimport datepicker, { Options } from './datepicker'\n\nconst addDays = (date, amount) => {\n  date.setDate(date.getDate() + amount)\n  return date\n}\n\n\n\ndeclare global {\n  interface Date {\n    addDays(days: number, useThis?: boolean): Date;\n  }\n  interface Window {\n    weekendBetween: typeof weekendBetween\n    deliveryInterval: any\n  }\n}\n\nfunction weekendBetween(date, date2) {\n  let d = new Date(date.getTime());\n  const d2 = new Date(date2.getTime());\n  while (d <= d2) {\n    if (d.getDay() === 0 || d.getDay() === 6) return true;\n    d = d.addDays(1);\n  }\n  return false;\n}\n\nwindow.weekendBetween = weekendBetween;\nexport default function() {\n\n  $('#order_booking_form').ready(function() {\n    $('#id_time_pickup').attr('placeholder', 'Nå / Ved bestilling');\n\n    // Show hide pickup time:\n    const pickup_el = $('#id_time_pickup').parent().parent();\n\n    // Hide if form already submitted with errors:\n    if ($('#id_has_self_transport').is(':checked')) {\n      pickup_el.hide();\n    }\n    $('#id_has_self_transport').on('change', function() {\n      const is_checked = $(this).is(':checked');\n      if (is_checked) {\n        pickup_el.slideUp();\n      } else {\n        pickup_el.slideDown();\n      }\n    })\n\n    // Remove delivery time when customer transports the car:\n    $('#id_has_self_transport').change(function() {\n      $('#id_time_pickup').val('');\n    });\n\n    // Show / hide reason for urgent order:\n    const urgent_el = $('#id_why_urgent').parent().parent();\n    const urgent_time_el = $('#id_time_delivery').parent().parent();\n\n    // Hide if form already submitted with errors:\n    if (!$('#id_is_urgent').is(':checked')) {\n      urgent_el.hide();\n      urgent_time_el.hide();\n    }\n    $('#id_is_urgent').on('change', function() {\n      const is_checked = $(this).is(':checked');\n      if (is_checked) {\n        urgent_el.slideDown();\n        urgent_time_el.slideDown();\n      } else {\n        urgent_el.slideUp();\n        urgent_time_el.slideUp();\n      }\n    });\n\n    // Show / hide reason for faulty order:\n    const faulty_el = $('#id_why_faulty').parent().parent();\n\n    // Hide if form already submitted with errors:\n    if (!$('#id_is_faulty').is(':checked')) {\n      faulty_el.hide();\n    }\n    $('#id_is_faulty').on('change', function() {\n      const is_checked = $(this).is(':checked');\n      if (is_checked) {\n        faulty_el.slideDown();\n      } else {\n        faulty_el.slideUp();\n      }\n    });\n    const deliveryTimeOptions: Options = {}\n    const pickupTimeOptions: Options = {}\n\n    const pickupTime = $('#id_time_delivery').val()\n    if (!pickupTime) {\n      pickupTimeOptions.minDate = new Date()\n      pickupTimeOptions.defaultDate = addDays(new Date(), 7)\n    }\n    const deliveryTime = $('#id_time_delivery').val()\n    if (!deliveryTime) {\n      deliveryTimeOptions.minDate = new Date()\n      deliveryTimeOptions.defaultDate = addDays(new Date(), 7)\n    }\n    datepicker.datetime('#id_time_pickup', pickupTimeOptions)\n    datepicker.datetime('#id_time_delivery', deliveryTimeOptions)\n  });\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./carcare_func/booking.ts","declare const Vue\nexport default () => {\n  Date.prototype.addDays = function(days) {\n    const dat = new Date(this.valueOf());\n    dat.setDate(dat.getDate() + days);\n    return dat;\n  };\n\n  new Vue({\n    el: '#slot-calendar-internal',\n    template: '#slot-calendar-internal-template',\n    data: {\n      loading: false,\n      startDate: new Date(),\n\n      // TODO: Load and select dealers.\n      dealers: [],\n      dealerId: null,\n      orders: [],\n    },\n\n    created() {\n      this.loadData();\n    },\n\n    methods: {\n      close() {\n        location.hash = '';\n        $('#orderData').empty();\n        $('#orderData').hide();\n      },\n      loadData() {\n        this.loading = true;\n\n        const that = this;\n        $.getJSON('/panel/dealers/json/', function(data) {\n          that.dealers = data;\n          that.loading = false;\n        });\n\n        this.loadCalendar();\n      },\n\n      loadCalendar() {\n        this.loading = true;\n\n        const date = (new Date(this.startDate.setHours(12))).toISOString().split('T')[0];\n        const that = this;\n        let qs = '?date=' + date;\n        if (this.dealerId) {\n          qs = qs + '&dealer=' + this.dealerId;\n        }\n\n        $.getJSON('/panel/orders/overview/slot-calendar-data/' + qs, function(data) {\n          that.startDate = new Date(data.start_date);\n          that.orders = data.orders;\n          that.loading = false;\n        });\n      },\n\n      dayDate(dayIndex) {\n        return this.startDate.addDays(dayIndex).getDate() + '.';\n      },\n\n      previousWeek() {\n        this.startDate = this.startDate.addDays(-6);\n        this.loadData();\n      },\n\n      nextWeek() {\n        this.startDate = this.startDate.addDays(8);\n        this.loadData();\n      },\n    },\n\n    watch: {\n      dealerId() {\n        this.loadCalendar();\n      }\n    },\n\n    computed: {\n      ordersByDate() {\n        const dates = {};\n        this.orders.forEach(function(order) {\n          const date = order.time_delivery.split(' ')[0];\n          if (!dates[date]) dates[date] = [];\n          order.time_delivery = new Date(order.time_delivery);\n          dates[date].push(order);\n        });\n        return dates;\n      },\n      hours() {\n        const hours = [];\n        for (let h = 8; h <= 16; h++) {\n          const days = [];\n          for (let d = 1; d <= 7; d++) {\n            const date = this.startDate.addDays(d);\n            const dateString = date.toISOString().split('T')[0];\n            const dayOrders = this.ordersByDate[dateString];\n            if (!dayOrders) days.push([]);\n            else {\n              days.push(dayOrders.filter(order => order.time_delivery.getHours() === h));\n            }\n          }\n          hours.push(days);\n        }\n        return hours;\n      }\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./carcare_func/slot_calendar_internal.ts","declare const Vue;\n\nexport default () => {\n  Date.prototype.addDays = function(days) {\n    let dat = new Date(this.valueOf());\n    dat.setDate(dat.getDate() + days);\n    return dat;\n  };\n\n  new Vue({\n    el: '#slot-calendar',\n    template: '#slot-calendar-template',\n    data: {\n      loading: false,\n      startDate: new Date(),\n      orders: [],\n\n      moveOrder: null,\n      moveTimes: [],\n      moveExisting: null, // Set if a move request already exists.\n      moveTime: null,\n      moveComment: null,\n      moveStatus: null,\n    },\n\n    created() {\n      this.loadData();\n    },\n\n    methods: {\n      loadData() {\n        this.loading = true;\n        let date = this.startDate.toISOString().split('T')[0];\n        let that = this;\n        $.getJSON('/ext/slot-calendar/?date=' + date, function(data) {\n          that.startDate = new Date(data.start_date);\n          that.orders = data.orders;\n          that.loading = false;\n        });\n      },\n\n      dayDate(dayIndex) {\n        return this.startDate.addDays(dayIndex).getDate() + '.';\n      },\n\n      previousWeek() {\n        this.startDate = this.startDate.addDays(-6);\n        this.loadData();\n      },\n\n      nextWeek() {\n        this.startDate = this.startDate.addDays(8);\n        this.loadData();\n      },\n\n      move(order) {\n        if (!order.is_movable) {\n          alert('Kan ikke be om flytting av ordre bestilt av andre.');\n          return;\n        }\n        if (order.status === 'Levert') {\n          alert('Kan ikke be om flytting av leverte ordre.');\n          return;\n        }\n        this.loading = true;\n\n        this.moveStatus = null;\n        this.moveTimes = [];\n        this.moveExisting = null;\n        this.moveTime = null;\n        this.moveComment = null;\n\n        this.moveOrder = order;\n        let that = this;\n        $.getJSON('/ext/move-slots/' + order.id + '/', function(data) {\n          that.moveTimes = data.times;\n          that.moveExisting = data.requested_move;\n          that.loading = false;\n        }, function() {\n          that.loading = false;\n        });\n      },\n\n      saveMove() {\n        if (!this.moveOrder) return;\n        if (!this.moveTime) return;\n\n        this.loading = true;\n\n        let that = this;\n        $.ajax('/ext/move-slot/' + this.moveOrder.id + '/', {\n          data: JSON.stringify({\n            time: this.moveTime,\n            comment: this.moveComment\n          }),\n          contentType: 'application/json',\n          type: 'POST'\n        }).done(function(data) {\n          that.moveStatus = data.message;\n          that.moveOrder = null;\n          that.loading = false;\n        }).fail(function(error) {\n          that.moveStatus = error;\n          that.loading = false;\n        });\n      }\n    },\n\n    computed: {\n      ordersByDate() {\n        let dates = {};\n        this.orders.forEach(function(order) {\n          let date = order.time_delivery.split(' ')[0];\n          if (!dates[date]) dates[date] = [];\n          order.time_delivery = new Date(order.time_delivery);\n          dates[date].push(order);\n        });\n        return dates;\n      },\n      hours() {\n        let hours = [];\n        for (let h = 8; h <= 16; h++) {\n          let days = [];\n          for (let d = 1; d <= 7; d++) {\n            let date = this.startDate.addDays(d);\n            let dateString = date.toISOString().split('T')[0];\n            let dayOrders = this.ordersByDate[dateString];\n            if (!dayOrders) days.push([]);\n            else {\n              days.push(dayOrders.filter(order => order.time_delivery.getHours() === h));\n            }\n          }\n          hours.push(days);\n        }\n        return hours;\n      }\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./carcare_func/slot_calendar.ts","export default (callback?: () => any) => {\n  $('.list-group.checked-list-box .list-group-item').each(function() {\n\n    // Settings\n    const $widget = $(this),\n      $checkbox = $widget.find('input'),\n      color = ($widget.data('color') ? $widget.data('color') : \"primary\"),\n      style = ($widget.data('style') === \"button\" ? \"btn-\" : \"list-group-item-\"),\n      settings = {\n        on: {\n          icon: 'glyphicon glyphicon-check'\n        },\n        off: {\n          icon: 'glyphicon glyphicon-unchecked'\n        }\n      };\n\n    $widget.css('cursor', 'pointer')\n    // $widget.append($checkbox);\n\n    // Event Handlers\n    $widget.on('click', function() {\n      $checkbox.prop('checked', !$checkbox.is(':checked'));\n      $checkbox.triggerHandler('change');\n      updateDisplay();\n    });\n    $checkbox.on('change', function() {\n      updateDisplay();\n      callback && callback();\n    });\n\n    // Actions\n    function updateDisplay() {\n      const isChecked = $checkbox.is(':checked');\n\n      // Set the button's state\n      $widget.data('state', (isChecked) ? \"on\" : \"off\");\n\n      // Set the button's icon\n      $widget.find('.state-icon')\n        .removeClass()\n        .addClass('state-icon ' + settings[$widget.data('state')].icon);\n\n      // Update the button's color\n      if (isChecked) {\n        $widget.addClass(style + color + ' active');\n      } else {\n        $widget.removeClass(style + color + ' active');\n      }\n    }\n\n    // Initialization\n    function init() {\n\n      if ($widget.data('checked') === true) {\n        $checkbox.prop('checked', !$checkbox.is(':checked'));\n      }\n\n      updateDisplay();\n\n      // Inject the icon if applicable\n      if ($widget.find('.state-icon').length === 0) {\n        $widget.prepend('<span class=\"state-icon ' + settings[$widget.data('state')].icon + '\"></span>');\n      }\n    }\n    init();\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./carcare_func/list_group_checked.ts","const searchMap = {}\n\nconst addressUpdater = function(data) {\n  if (data.status === \"OK\") {\n    const { lat, lng } = data.results[0].geometry.location\n    $('#id_map_lat').val(lat)\n    $('#id_map_lon').val(lng)\n    if (company_marker && google_map) {\n      const myLatlng = new google.maps.LatLng(lat, lng)\n      company_marker.setPosition(myLatlng);\n      google_map.setCenter(myLatlng)\n    }\n  }\n}\n\nconst updaters = {\n  address: (item) => {\n    if (item) {\n      const { street_name, post_code, post_area } = item\n      $('#id_address').val(street_name)\n      $('#id_zip_code').val(post_code)\n      $('#id_city').val(post_area)\n      if ($('.length#id_map_lat').length) {\n        updateCoordFromMap()\n      }\n      return street_name\n    }\n  },\n  company: (item) => {\n    if (item) {\n      const { adresse, postnummer, poststed } = item.forretningsadresse || item.postadresse\n      $('#id_address').val(adresse)\n      $('#id_zip_code').val(postnummer)\n      $('#id_city').val(poststed)\n      $('#id_org_number').val(item.organisasjonsnummer)\n      if ($('#id_map_lat').length) {\n        updateCoordFromMap()\n      }\n    }\n    return item.navn_title_case\n  }\n}\n\nconst bind_customer_search = (element, updater, params = {}) => {\n  const typeahead_bind_options = {\n    source: function(query, cb) {\n      $.getJSON('/panel/json/customer/',\n        $.extend(params, {\n          query: query\n        }),\n        function(data) {\n          const names = [];\n          for (let i = 0; i < data.length; i++) {\n            const item = data[i];\n            const key = 'cst' + item.id;\n            names.push(key);\n            searchMap[key] = item;\n          }\n          cb(names);\n        });\n    },\n    matcher: function(query) {\n      return !!this.query\n    },\n    displayText: function(key) {\n      const item = searchMap[key]\n      if (!item) {\n        return\n      }\n      const carList = item.cars;\n      if (carList) {\n        const cars = carList.join(', ');\n        return '<span>' + item.name + '<br><small>' + cars + '</small></span>';\n      } else {\n        return '<span>' + item.name + '</span>';\n      }\n    },\n    minLength: 1,\n    updater: _updater(updater)\n  }\n  element.typeahead($.extend(_typeahead_options, typeahead_bind_options))\n}\n\nconst updateCoordFromMap = _.debounce(function() {\n  reverse_geo($('#id_address').val(), $('#id_zip_code').val(), addressUpdater)\n}, 500)\n\nconst bind_address_search = function(element, updater = updaters.address, params = {}) {\n  if ($('#id_map_lat').length) {\n    updateCoordFromMap()\n    element.on('change paste keyup', updateCoordFromMap);\n  }\n  const typeahead_bind_options = {\n    source: function(query, cb) {\n      addresses_typeahead_source(1, query, cb)\n    },\n    minLength: 1,\n    updater: _updater(updater),\n    displayText: function(key) {\n      const item = searchMap[key]\n      if (item) {\n        const l = [item.post_code, item.post_area]\n        if (item.place && item.place.toUpperCase() !== item.post_area) {\n          l.push(item.place)\n        }\n        return '<span>' + item.street_name + '<br><small>' + l.join(', ') + '</small></span>'\n      }\n      return key\n    },\n  }\n  element.typeahead($.extend(_typeahead_options, typeahead_bind_options))\n}\n\nconst _typeahead_options = {\n  minLength: 2,\n  items: 25,\n  delay: 300,\n  fitToElement: false,\n  highlighter: (item) => item\n}\n\nconst addresses_typeahead_source = (company_id, query, cb) => {\n  query = query.replace(/\\s\\d+\\w?$/, \"\").trim()\n  $.getJSON(\n    '/api/address/', {\n      street_name: query\n    }\n  ).done((data) => {\n    const names = [];\n    if (!data) {\n      return;\n    }\n    for (let i = 0; i < data.data.length; i++) {\n      const item = data.data[i];\n      const key = 'adr' + item.id\n      item.post_area = item.post_area.toUpperCase()\n      names.push(key);\n      searchMap[key] = item;\n    }\n    cb(names)\n  })\n}\nconst _updater = (updater) => (key) => updater(searchMap[key], key)\n\nconst ignoreList = [\n  'Båt', 'og', 'Bil'\n]\nconst ignoreListUC = ignoreList.map(i => i.toUpperCase())\n\nconst toTitleCase = (toTransform, min_length) => {\n  if (!min_length) {\n    min_length = 0\n  }\n  const wordList = toTransform.split(' ').map(word => {\n    const thisWord = word.toUpperCase()\n    const ignoreIndex = ignoreListUC.indexOf(thisWord)\n    if (ignoreIndex !== -1) {\n      return ignoreList[ignoreIndex]\n    }\n    if (thisWord.length > min_length) {\n      return thisWord[0] + thisWord.substr(1).toLowerCase()\n    }\n    return word\n  })\n  return wordList.join(' ')\n}\nconst reverse_geo = (street_name, post_code, callback) => {\n  $.getJSON(\n    'https://maps.googleapis.com/maps/api/geocode/json', {\n      address: [street_name, post_code, 'Norway'].join(', '),\n      key: 'AIzaSyAHO78I5BkyTl_JkE5G3OhtrYI3zxBhCbM'\n    },\n    callback\n  )\n}\n\nconst org_typeahead_source = (query, cb) => {\n  $.getJSON(\"https://data.brreg.no/enhetsregisteret/enhet.json?$filter=startswith(navn,'\" + encodeURIComponent(query) + \"')&size=10\", (data) => {\n    const names = [];\n    if (!data.data) {\n      return;\n    }\n    for (let i = 0; i < data.data.length; i++) {\n      const item = data.data[i];\n      item.navn_title_case = toTitleCase(item.navn, 3)\n      const adresse = item.forretningsadresse || item.postadresse\n      const key = 'org' + item.organisasjonsnummer\n      names.push(key);\n      searchMap[key] = item;\n    }\n    cb(names)\n  })\n}\n\nconst bind_company_search = (element, updater = updaters.company, search_enable_func?) => {\n  const typeahead_bind_options = {\n    source: function(query, cb) {\n      if (!search_enable_func || search_enable_func()) {\n        org_typeahead_source(query, cb)\n      }\n    },\n    updater: _updater(updater),\n    displayText: function(key) {\n      const item = searchMap[key]\n      if (item) {\n        const adresse = item.forretningsadresse || item.postadresse\n        return '<span>' + item.navn_title_case + '<br><small>' + [adresse.adresse, adresse.poststed].join(', ') + '</small></span>'\n      }\n      return key\n    },\n  }\n  element.attr('autocomplete', 'off')\n  element.typeahead($.extend(_typeahead_options, typeahead_bind_options))\n}\n\n\nexport default {\n  searchMap,\n  toTitleCase,\n  org_typeahead_source,\n  addresses_typeahead_source,\n  _updater,\n  bind_customer_search,\n  bind_address_search,\n  bind_company_search,\n  _typeahead_options,\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./carcare_func/typeahead.ts","import carcare_func from './carcare_func'\nimport datepicker from './carcare_func/datepicker'\n\n$(function() {\n  $('body').on('click', 'a.confirm', function(e) {\n    if ($(this).hasClass('disabled')) return false;\n    let message = $(e.target).data('message');\n    let box = '<div class=\"confirm-box\"><p>' + message + '</p><a href=\"#\" class=\"btn btn-sm btn-default box-cancel\">Avbryt</a><a href=\"#\" class=\"btn btn-sm btn-danger box-ok\">OK</a></div>';\n    $('body').append(box);\n    e.preventDefault();\n\n    if ($(document).width() > 2200) {\n      $('.confirm-box').css({ left: '25%' });\n    }\n\n    $('.box-cancel').on('click', function() {\n      $(this).parent().remove();\n    });\n    let that = this;\n    $('.box-ok').on('click', function() {\n      $(this).parent().remove();\n      window.location.assign($(that).attr('href'));\n    });\n    return false;\n  });\n\n  $('body').on('click', '.btn-print', function(e) {\n    window.print();\n  });\n  // Quick search:\n  carcare_func.bind_customer_search(\n    $('.quick_search'),\n    function(item) {\n      if (item.url) window.location.assign(item.url);\n    }, {\n      cars: true\n    }\n  )\n  // Set up widgets:\n  let setupWidgets = function() {\n    datepicker.date('input.datepicker-widget')\n    datepicker.time('input.datepicker-widget-time')\n    datepicker.range('input.datepicker-widget-range', {\n      defaultDate: [(<any>$('#date-from').val()), $('#date-to').val()],\n    }, ['#date-from', '#date-to'])\n  }\n  setupWidgets();\n\n  // Enable modals:\n  $('body').on('click', '.modal-link', function() {\n    if ($(this).hasClass('disabled')) {\n      return false;\n    }\n\n    let modalEl = $('.modal');\n    let url = $(this).data('url');\n\n    modalEl.html('Laster...');\n    modalEl.modal('show');\n\n    modalEl.load(url, function() {\n      setupWidgets();\n      modalEl.find('.form-async').ajaxForm(<any>{\n        delegation: true,\n        target: '.modal',\n        success: function() {\n          $.get(location.href, function(data) {\n            let isSuccess = $(modalEl.find('.form-async .alert.alert-success')[0]).length;\n            if (isSuccess) {\n              modalEl.modal('hide');\n            }\n            $('#main').replaceWith($(data).filter('#main'));\n          });\n        }\n      });\n    });\n  })\r\n})\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/source-map-loader!./init.ts"],"sourceRoot":""}